#  单节点主机
[root@es-80 ~]# grep -vE "^#" /etc/elasticsearch/elasticsearch.yml 
# cluster.name: my_elasticsearch_cluser  这个集群名称在多台的时候会报错
cluster.name: es
node.name: ES01 
path.data: /data/elasticsearch
path.logs: /var/log/elasticsearch
bootstrap.memory_lock: true
network.host: 10.0.0.80 
http.port: 9200

[root@es-80 ~]# grep -vE "^#" /usr/lib/systemd/system/elasticsearch.service 
[Unit]
Description=Elasticsearch
Documentation=http://www.elastic.co
Wants=network-online.target
After=network-online.target

[Service]
LimitMEMLOCK=infinity
RuntimeDirectory=elasticsearch
PrivateTmp=true
Environment=ES_HOME=/usr/share/elasticsearch
Environment=ES_PATH_CONF=/etc/elasticsearch
Environment=PID_DIR=/var/run/elasticsearch
EnvironmentFile=-/etc/sysconfig/elasticsearch

WorkingDirectory=/usr/share/elasticsearch

User=elasticsearch
Group=elasticsearch

ExecStart=/usr/share/elasticsearch/bin/elasticsearch -p ${PID_DIR}/elasticsearch.pid --quiet

StandardOutput=journal
StandardError=inherit

LimitNOFILE=65536

LimitNPROC=4096

LimitAS=infinity

LimitFSIZE=infinity

TimeoutStopSec=0

KillSignal=SIGTERM

KillMode=process

SendSIGKILL=no

SuccessExitStatus=143

[Install]
WantedBy=multi-user.target



#  3节点集群主机配置文件
[root@es-82 /data/ES_soft]# grep -vE "^#" /etc/elasticsearch/elasticsearch.yml 
cluster.name: es 
node.name: ES03
path.data: /data/elasticsearch
path.logs: /var/log/elasticsearch
bootstrap.memory_lock: true
network.host: 10.0.0.82,127.0.0.1
http.port: 9200
discovery.zen.ping.unicast.hosts: ["10.0.0.81", "10.0.0.82"]  # 写任意两节点的ip地址就可以，不用都写上
discovery.zen.minimum_master_nodes: 2
